# Hearthstone Chat v1.1
Instantly chat with Hearthstone opponents that also have this application.

**How It Works**

The application scans the Power.log file generated by Hearthstone. From the log information, it finds you and your opponent's BattleTags and sends a unique chatID to the server. Then, the server returns messages only sent by you and your opponent.

**Setup**

* Download and unzip the Hearthstone Chat desktop application.
* Open app/app.config in Notepad. There are several settings you can configure:
  * appWidth - The application's starting width. The default width is 500px.
  * appWidth - The application's starting height. The default height is 350px.
  Note: The application window is also resizable.
  * appX - Set the application's starting position a certain number of pixels from the left of the screen.
  * appY - Set the application's starting position a certain number of pixels from the top of the screen.
  * appPosition - If appX and appY are blank, position the application in a preset location; lower-left, lower-right, upper-left, upper-right, center. The default position is lower-left.
  * appTheme - Set the application's theme/colors. Currently, there are two options; hearthstone (default brown) and blizzard (blue).
  * appSounds - Toggle the application's sounds ON/OFF. Currently, there is only one sound, for new messages. The default setting is ON.
  * profanityFilter - Toggle the application's profanity filter, masking common bad words. The default setting is OFF.
  * localappdataDir - The directory path to Hearthstone's Local AppData log.config file. Currently an unused setting.
  * **powerlogDir - The directory path to Hearthstone logs, the most important setting for the application. This application will try to automatically find this directory the first time it is ran. If it is unable to find it, you will need to manually put in the full path of your Hearthstone/logs directory.**
  * bannedUsers - A list of the users you've banned, their messages are blocked in chat. This setting is handled directly in the interface (see below).

**Interface**

![Hearthstone Chat - hearthstone theme](https://i.imgur.com/1wDf3nW.png)![Hearthstone Chat - blizzard theme](https://i.imgur.com/surDQzb.png)

* The window is resizable.
* The header contains the full BattleTag of your current opponent. Next to your opponent's BattleTag is a red 'ban' icon. Clicking it will ban your opponent and block their messages in chat. Clicking on the white 'unban' icon while the opponent is banned will unban them and unblock their messages in chat.
* Whenever you get a new message, a sound will play by default.
* Messages display the player's name, timestamp, and input. All messages remain in the chat room for 30 minutes.

**Troubleshooting**

* "I entered chat when a new Hearthstone game started but my opponent didn't."

This just means your opponent isn't running the application.

* "My chat window is blank, even when I'm playing games."

This stems from two issues:
The application couldn't find your Hearthstone logs directory and needs to be added manully to the app.config file (see above) and/or Hearthstone has not been configured to create a Power.log file during gameplay. In this case, the user must navigate to the %LocalAppData%/Blizzard/Hearthstone directory and added this to log.config:

```
[Power]
LogLevel=1
FilePrinting=True
ConsolePrinting=False
ScreenPrinting=False
Verbose=True
```

* "Why do I start in a chat room as soon as I open the application?"

This is a residual effect from it reading your last game logged by Hearthstone. The advantage of this feature is you can open the application after a game has started and enter a chat room with that opponent immediately but is a little silly when the last game played was hours/days ago. *I plan to continue working on the code to diffierentiate between a current game and an old game. Ideally, you should not enter a chat room of an old game.*

**Author**

Gregg Jewell | Gatekeeper#1310 (NA Server)
